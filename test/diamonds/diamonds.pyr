include "../cameras/canon_40d.pyr" as response_curves

image = {
	width = 512
	height = 300
	format = Image.Png
	rgb_curves = response_curves
}

renderer = Renderer.Simple {
	pixel_samples = 500
	spectrum.samples = 10
	spectrum.bins = 50
	spectrum.span = [400, 700]
	tile_size = 32
	bounces = 256
}

camera = Camera.Perspective {
	fov = 12.5
	transform = Transform.LookAt
	transform.from = Vector { x = -6.55068, y = -8.55076, z = 4.0 }
	transform.to = Vector { x = 0.1, z = 0.1 }
	transform.up = Vector { z = 1 }
	focus_distance = 11.08
	aperture = .002
}

diamond = Material.Refractive {
	ior = 2.37782
	dispersion = 0.01371
	color = 1
}

plexi = Material.Mirror {
	color = Math.Mix {
		factor = Math.Fresnel { ior = 1.1 }
		a = 0
		b = 0.2
	}
}

world.sky = Sky.Color { color = 0 }
world.objects = [
	Shape.Mesh {
		file = "diamonds.obj"

		materials.diamonds = diamond

		materials.light_left = Material.Emission {
			color = 1
		}

		materials.light_right = Material.Emission {
			color = 2
		}

		materials.bottom = plexi
	}
]