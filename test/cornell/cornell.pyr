include "../cameras/canon_40d.pyr" as response_curves
include "colors.pyr" as colors
include "lamp.pyr" as lamp

image = {
	width = 512
	height = 512
	format = Image.Png
	rgb_curves = response_curves
}

renderer = Renderer.Simple {
	pixel_samples = 50
	spectrum.samples = 5
	spectrum.bins = 50
	spectrum.span = [400, 700]
	tile_size = 32
	light_samples = 5
}

camera = Camera.Perspective {
	fov = 37.7
	transform = Transform.LookAt
	transform.from = Vector(-2.78, -8, 2.73)
	transform.to = Vector(-2.78, 0, 2.73)
	transform.up = Vector { z=1 }
}

light = Material.Emission {
	color = Math.Curve {
		input = Value.Wavelength
		points = lamp.color
	}
}

white = Material.Diffuse {
	color = Math.Curve {
		input = Value.Wavelength
		points = colors.white
	}
}

green = Material.Diffuse {
	color = Math.Curve {
		input = Value.Wavelength
		points = colors.green
	}
}

red = Material.Diffuse {
	color = Math.Curve {
		input = Value.Wavelength
		points = colors.red
	}
}

world.sky = Sky.Color(0)
world.objects = [
	Shape.Mesh {
		file = "box.obj"
		materials.light = light
		materials.left = red
		materials.right = green

		materials.tall = white
		materials.short = white
		materials.back = white
		materials.ceiling = white
		materials.floor = white
	}
]