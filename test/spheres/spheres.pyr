include "../cameras.pyr" as cameras

image = {
	width = 512
	height = 256
	format = Image.Png
	rgb_curves = cameras.canon_40d
}

renderer = Renderer.Simple {
	pixel_samples = 500
	spectrum_samples = 10
	spectrum_bins = 50
	tile_size = 32
}

camera = Camera.Perspective {
	fov = 53
	transform = Transform.LookAt
	transform.from = Vector { y=1 }
	transform.to = Vector { y=1, z=1 }
}

ball = Shape.Sphere {
	radius = 1.5
	position = Vector { y=1.4, z=10 }
}


world.sky = Sky.Color { color = 0 }
world.objects = [
	Shape.Sphere {
		radius = 50.0
		position = Vector { x=0, y=-50, z=10 }
		material = Material.Diffuse { color = 1.0 }
	},

	ball {
		position.y = 1.5
		material = Material.Emission { color = 3.0 }
	},

	ball {
		position.x = -3
		material = Material.Mix {
			factor = 0.1
			a = Material.Diffuse {
				color = Math.Curve {
					input = Value.Wavelength
					points = [
						[400, 0],
						[450, 0.3],
						[500, 0],
						[550, 1],
						[600, 0]
					]
				}
			}
			b = Material.Mirror { color = 1.0 }
		}
	},

	ball {
		position.x = 3
		material = Material.Diffuse {
			color = Math.Curve {
				input = Value.Wavelength
				points = [
					[580, 0],
					[600, 1],
					[610, 1],
					[650, 0]
				]
			}
		}
	}
]