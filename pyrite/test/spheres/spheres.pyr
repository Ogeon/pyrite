include "../light_sources/d65.pyr" as d65

image = {
	width = 512
	height = 256
	format = Image.Png
}

renderer = Renderer.Simple {
	pixel_samples = 300
	spectrum.samples = 10
	spectrum.bins = 50
	tile_size = 32
	light_samples = 20
}

camera = Camera.Perspective {
	fov = 53
	transform = Transform.LookAt
	transform.from = Vector(0, 1, 0)
	transform.to = Vector(0, 1, 1)
}

ball = Shape.Sphere {
	radius = 1.5
	position = Vector(0, 1.4, 10)
}

world.sky = Sky.Color(0)
world.objects = [
	Shape.Sphere {
		radius = 50.0
		position = Vector(0, -50, 10)
		material = Material.Diffuse(1)
	},

	ball {
		position.y = 1.5
		material = Material.Emission(Math.Mul(Color.Spectrum(d65.spectrum), 3))
	},

	ball {
		position.x = -3
		material = Material.FresnelMix {
			ior = 1.5
			refract = Material.Diffuse {
				color = Color.Spectrum([
					[400, 0],
					[450, 0.3],
					[500, 0],
					[550, 1],
					[600, 0]
				])
			}
			reflect = Material.Mirror(1)
		}
	},

	ball {
		position.x = 3
		material = Material.Diffuse {
			color = Color.Spectrum([
				[580, 0],
				[600, 1],
				[610, 1],
				[650, 0]
			])
		}
	}
]
